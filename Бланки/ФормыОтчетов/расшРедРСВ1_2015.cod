extends Ѕюджет_«ѕиƒƒ.‘ормыќтчетов.‘онды.–ед–—¬1_2015 "";

inobject private

  proc кнјвторасчет_ѕриЌажатии (Sender: Button);
    var локƒоп”слови€–асчета: —лужебные.–—¬1.блƒоп”слови€–асчета;
    var локЌомер”точнени€: integer;
    --{ вызов диалога доп.условий
    локƒоп”слови€–асчета = —лужебные.–—¬1.блƒоп”слови€–асчета.CreateExt;
    локЌомер”точнени€ = Int(¬з€ть«начениеѕол€('с:Ќомер орр'));
    локƒоп”слови€–асчета.”точненение    = (локЌомер”точнени€ > 0);
    локƒоп”слови€–асчета.Ќомер”точнени€ = локЌомер”точнени€;
    локƒоп”слови€–асчета.ќтч√од         = Int(¬з€ть«начениеѕол€('с:–асчѕериод'));
    локƒоп”слови€–асчета.ќтчѕериод      = Int(¬з€ть«начениеѕол€('с:ќтчѕериод'));
    --}
    if CmOk = локƒоп”слови€–асчета.ShowEx(, Window.ModalWindow):
      --{ передача данных в отчет (до начала расчета)
      if локƒоп”слови€–асчета.”точненение:
        «адать«начениеѕол€('с:Ќомер орр', PadL(Str(локƒоп”слови€–асчета.Ќомер”точнени€), 3, '0'));
      elsif not локƒоп”слови€–асчета.”точненение:
        «адать«начениеѕол€('с:Ќомер орр', '000');
      fi;
      «адать«начениеѕол€('с:–асчѕериод', Str(локƒоп”слови€–асчета.ќтч√од));
      «адать«начениеѕол€('с:ќтчѕериод', Str(локƒоп”слови€–асчета.ќтчѕериод));
      if (локƒоп”слови€–асчета.ќтчѕериод = 0):
        «адать«начениеѕол€('с: одѕериода', Str(локƒоп”слови€–асчета.ќтч√од) + '.4');
      elsif (локƒоп”слови€–асчета.ќтчѕериод = 3):
        «адать«начениеѕол€('с: одѕериода', Str(локƒоп”слови€–асчета.ќтч√од) + '.1');
      elsif (локƒоп”слови€–асчета.ќтчѕериод = 6):
        «адать«начениеѕол€('с: одѕериода', Str(локƒоп”слови€–асчета.ќтч√од) + '.2');
      elsif (локƒоп”слови€–асчета.ќтчѕериод = 9):
        «адать«начениеѕол€('с: одѕериода', Str(локƒоп”слови€–асчета.ќтч√од) + '.3');
      fi;
      «адать«начениеѕол€('ц:ќтч√од', локƒоп”слови€–асчета.ќтч√од);
      if (локƒоп”слови€–асчета.ќтчѕериод = 0):
        «адать«начениеѕол€('ц:ќтчћес', 12);
      else
        «адать«начениеѕол€('ц:ќтчћес', локƒоп”слови€–асчета.ќтчѕериод);
      fi;
      --}
      «адать«начениеѕол€('л:—тажЌ—1', локƒоп”слови€–асчета.—тажЌ—1);
      «адать«начениеѕол€('л:—тажЌ—2', локƒоп”слови€–асчета.—тажЌ—2);
      «адать«начениеѕол€('л:—тажЌ—3', локƒоп”слови€–асчета.—тажЌ—3);
      «адать«начениеѕол€('л:—тажЌ—4', локƒоп”слови€–асчета.—тажЌ—4);
      «адать«начениеѕол€('л:—таж√ѕ—', локƒоп”слови€–асчета.—таж√ѕ—);
      extended кнјвторасчет_ѕриЌажатии (Sender);
    fi;
  end;



end